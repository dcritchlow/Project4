!function(o){o(window.jQuery,window,document)}(function(o,e){function n(e,n,r){var a=r,s={username:e,password:n};return o.ajax({url:"/authenticate",type:"post",headers:{Authorization:a},data:s})}function r(){return o.ajax({url:"/access",type:"get"})}o(function(){o("#loginForm").append('<form method="post">'),o("#loginForm form").append('<div id="username" class="form-group">'),o("#loginForm form #username").append('<label for="username">Username</label>'),o("#loginForm form #username").append('<input type="text" class="form-control" id="username" name="username" placeholder="username">'),o("#loginForm form").append('<div id="password" class="form-group">'),o("#loginForm form #password").append('<label for="password">Password</label>'),o("#loginForm form #password").append('<input type="password" class="form-control" id="password" name="password" placeholder="password">'),o("#loginForm form").append('<button type="submit" class="btn btn-default">Submit</button>');var a=o("#loginForm");a.on({submit:function(a){a.preventDefault();{var s=o(this).find("[name='username']").val(),t=o(this).find("[name='password']").val();r().done(function(r){n(s,t,r.key).done(function(e){var n=o.parseJSON(e);o.each(n,function(e,n){o("#authorized").text("User profile url: "+n)})}).fail(function(n){console.log(n);var r=o.parseJSON(n.responseText);console.log(r),o.each(r,function(n,r){"/register"===r?e.location.href=r:o("#authorized").text(r)})})})}}})})});